using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.IO;

namespace MP4_Mangler.HeaderBoxes {
	/// <summary>
	/// An attempt to create a simple, minimal stds and children
	/// to demark an MP3 stream to IIS. Fingers crossed, it might work.
	/// </summary>
	public class stsd_mp3:FullBox {

		public stsd_mp3() : base(0, 0, "stsd") {
			_data = new System.IO.MemoryStream();
			BigEndianWriter ous = new BigEndianWriter(_data);
			ous.Write((UInt32)0); // entry count
			/*
			// This is a WMA block, used to test 'moov' correctness.
			byte[] hard_data = new byte[] { 
				0x00, 0x00, 0x00, 0x01, 0x00, 0x00,
				0x00, 0x48, 0x6F, 0x77, 0x6D, 0x61,
				0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				0x00, 0x01, 0x00, 0x00, 0x00, 0x00,
				0x00, 0x00, 0x00, 0x00, 0x00, 0x02,
				0x00, 0x10, 0x00, 0x00, 0x00, 0x00,
				0xAC, 0x44, 0x00, 0x00, 0x62, 0x01,
				0x02, 0x00, 0x44, 0xAC, 0x00, 0x00,
				0x45, 0x1F, 0x00, 0x00, 0xCF, 0x05,
				0x10, 0x00, 0x12, 0x00, 0x10, 0x00,
				0x03, 0x00, 0x00, 0x00, 0x00, 0x00,
				0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
				0xE0, 0x00, 0x42, 0xC0
			};
			ous.WriteForward(hard_data);*/
		}

		public override void Prepare () {
		}
	}
}
